# Вопросы и ответы по исключениям в Java

## Оглавление
1. [Что такое исключение? Для чего они нужны?](#q1)
2. [Общее про исключения](#q2)
3. [Иерархия исключений](#q3)
4. [Может ли main() выбросить исключение?](#q4)
5. [Проверяемые и непроверяемые исключения](#q5)
6. [Можно ли обработать непроверяемое исключение?](#q6)
7. [Нужно ли ловить Error-исключения?](#q7)
8. [Как бросить исключение? Можно ли бросить не новое исключение?](#q8)
9. [Информация внутри исключения](#q9)
10. [Подавленные исключения](#q10)
11. [StackTraceElement](#q11)
12. [try-catch-finally](#q12)
13. [try-with-resources](#q13)
14. [Правильный порядок catch-блоков](#q14)
15. [Несколько исключений в одном catch](#q15)
16. [return в try и finally](#q16)
17. [Область видимости переменных](#q17)
18. [Double.parseDouble(null) vs Integer.parseInt(null)](#q18)
19. [Основные RuntimeException](#q19)
20. [Поймать несколько исключений в одном блоке catch](#q20)
21. [Исключения в конструкторе](#q21)
22. [Исключения в finally](#q22)
23. [return в finally](#q23)
24. [Исключения в try и finally одновременно](#q24)
25. [Отличие исключений от обычных классов](#q25)
26. [Ключевые слова (try, catch, finally, throw, throws)](#q26)
27. [try-with-resources: исключения в try и close](#q27)
28. [Закрытие ресурсов и иерархия catch](#q28)
29. [Методы StackTraceElement](#q29)
30. [Методы исключений](#q30)

---

## <a name="q1"></a> 1. Что такое исключение? Для чего они нужны?
Исключение — это объект, описывающий ошибочную ситуацию во время выполнения программы. Они нужны для того, чтобы отделить обычный поток выполнения программы от обработки ошибок.  

## <a name="q2"></a> 2. Общее про исключения
Исключения помогают писать более надёжный код, так как позволяют централизованно обрабатывать ошибки и отделять бизнес-логику от логики ошибок.  

## <a name="q3"></a> 3. Иерархия исключений
В Java все исключения наследуются от `Throwable`.  
- `Error` — критические ошибки JVM (OutOfMemoryError, StackOverflowError).  
- `Exception` — обычные исключения.  
  - Проверяемые (checked) — требуют явного `throws` или `try-catch`.  
  - Непроверяемые (unchecked, наследники `RuntimeException`) — можно не обрабатывать.  

## <a name="q4"></a> 4. Может ли main() выбросить исключение?
Да, может. Если в `main()` не обработать исключение, оно попадёт в JVM, которая выведет stack trace в консоль.  

## <a name="q5"></a> 5. Проверяемые и непроверяемые исключения
- **Синтаксис**: Checked требуют `throws` или `try-catch`. Unchecked можно не указывать.  
- **Идеология**: Checked — ожидаемые ситуации (например, `IOException`). Unchecked — ошибки программиста (например, `NullPointerException`).  

## <a name="q6"></a> 6. Можно ли обработать непроверяемое исключение?
Да, можно поймать `RuntimeException` или его наследников.  

## <a name="q7"></a> 7. Нужно ли ловить Error-исключения?
Нет, обычно это бессмысленно, так как `Error` означает критическую ошибку JVM.  

## <a name="q8"></a> 8. Как бросить исключение? Можно ли бросить не новое исключение?
Используется `throw new MyException()`. Можно пробросить уже созданное исключение (`throw e;`).  

## <a name="q9"></a> 9. Информация внутри исключения
Есть сообщение (`getMessage()`), стек вызовов (`printStackTrace()` или `getStackTrace()`), причина (`getCause()`).  

## <a name="q10"></a> 10. Подавленные исключения
Подавленные исключения появляются в `try-with-resources`, когда исключение в `try` "перекрывается" исключением при `close()`. Достаём через `Throwable.getSuppressed()`.  

## <a name="q11"></a> 11. StackTraceElement
Методы: `getClassName()`, `getMethodName()`, `getFileName()`, `getLineNumber()`.  

## <a name="q12"></a> 12. try-catch-finally
- `try` — блок кода, где может быть исключение.  
- `catch` — обработка.  
- `finally` — выполняется всегда (закрытие ресурсов).  

## <a name="q13"></a> 13. try-with-resources
Это форма `try`, которая автоматически закрывает ресурсы (`AutoCloseable`). Закрытие идёт в обратном порядке.  

## <a name="q14"></a> 14. Правильный порядок catch-блоков
От более конкретного к более общему, иначе компилятор ругнётся.  

## <a name="q15"></a> 15. Несколько исключений в одном catch
Да, начиная с Java 7: `catch (IOException | SQLException e)`.  

## <a name="q16"></a> 16. return в try и finally
Значение из `finally` перезапишет return из `try`.  

## <a name="q17"></a> 17. Область видимости переменных
Переменные, объявленные в `try`, видны только внутри этого блока.  

## <a name="q18"></a> 18. Double.parseDouble(null) vs Integer.parseInt(null)
- `Double.parseDouble(null)` → `NullPointerException`.  
- `Integer.parseInt(null)` → `NumberFormatException`.  

## <a name="q19"></a> 19. Основные RuntimeException
`NullPointerException`, `ArrayIndexOutOfBoundsException`, `ArithmeticException`, `ClassCastException`, `IllegalArgumentException`, `NumberFormatException` и др.  

## <a name="q20"></a> 20. Поймать несколько исключений в одном блоке catch
Да, через `|` (см. пункт 15).  

## <a name="q21"></a> 21. Исключения в конструкторе
Конструктор может выбрасывать исключения и объявлять `throws`.  

## <a name="q22"></a> 22. Исключения в finally
Можно бросить, но тогда оно "перебьёт" исключение из `try` или `catch`.  

## <a name="q23"></a> 23. return в finally
Да, можно, но не рекомендуется: return из `finally` перезапишет return из `try`.  

## <a name="q24"></a> 24. Исключения в try и finally одновременно
Вылетит исключение из `finally`. Исключение из `try` будет подавлено.  

## <a name="q25"></a> 25. Отличие исключений от обычных классов
Исключения — это тоже классы, но они должны наследоваться от `Throwable`.  

## <a name="q26"></a> 26. Ключевые слова (try, catch, finally, throw, throws)
- `try` — блок потенциальной ошибки.  
- `catch` — обработка.  
- `finally` — гарантированный блок.  
- `throw` — генерация исключения.  
- `throws` — объявление в сигнатуре метода.  

## <a name="q27"></a> 27. try-with-resources: исключения в try и close
Если исключение в `try` и ещё одно при `close()`, то основное исключение из `try` выбрасывается, а второе попадает в `getSuppressed()`.  

## <a name="q28"></a> 28. Закрытие ресурсов и иерархия catch
- Catch-блоки — от частного к общему.  
- Ресурсы закрываются в обратном порядке их объявления.  

## <a name="q29"></a> 29. Методы StackTraceElement
`getClassName()`, `getMethodName()`, `getFileName()`, `getLineNumber()`, `isNativeMethod()`.  

## <a name="q30"></a> 30. Методы исключений
- `getMessage()`  
- `getCause()`  
- `initCause(Throwable)`  
- `printStackTrace()`  
- `getStackTrace()`  
- `getSuppressed()`  
